{"ast":null,"code":"import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\naxios.defaults.baseURL = API_BASE_URL;\nconst useAuthStore = create(persist((set, get) => ({\n  // -----------------------------\n  // ðŸ”¹ STATE\n  // -----------------------------\n  user: null,\n  company: null,\n  token: null,\n  refreshToken: null,\n  isAuthenticated: false,\n  isLoading: false,\n  error: null,\n  // -----------------------------\n  // ðŸ”¹ LOGIN\n  // -----------------------------\n  login: async credentials => {\n    set({\n      isLoading: true,\n      error: null\n    });\n    try {\n      const response = await axios.post('/auth/login', credentials);\n      const {\n        user,\n        company,\n        token,\n        refreshToken\n      } = response.data.data;\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      set({\n        user,\n        company,\n        token,\n        refreshToken,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Login failed';\n      set({\n        isLoading: false,\n        error: errorMessage,\n        isAuthenticated: false\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  },\n  // -----------------------------\n  // ðŸ”¹ REGISTER\n  // -----------------------------\n  register: async registrationData => {\n    set({\n      isLoading: true,\n      error: null\n    });\n    try {\n      const response = await axios.post('/auth/register', registrationData);\n      const {\n        user,\n        company,\n        token,\n        refreshToken\n      } = response.data.data;\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      set({\n        user,\n        company,\n        token,\n        refreshToken,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Registration failed';\n      set({\n        isLoading: false,\n        error: errorMessage,\n        isAuthenticated: false\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  },\n  // -----------------------------\n  // ðŸ”¹ LOGOUT\n  // -----------------------------\n  logout: () => {\n    delete axios.defaults.headers.common['Authorization'];\n    set({\n      user: null,\n      company: null,\n      token: null,\n      refreshToken: null,\n      isAuthenticated: false,\n      error: null\n    });\n  },\n  // -----------------------------\n  // ðŸ”¹ REFRESH TOKEN (Auto)\n  // -----------------------------\n  refreshAccessToken: async () => {\n    const {\n      refreshToken\n    } = get();\n    if (!refreshToken) {\n      get().logout();\n      return false;\n    }\n    try {\n      const response = await axios.post('/auth/refresh-token', {\n        refreshToken\n      });\n      const {\n        token\n      } = response.data.data;\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      set({\n        token\n      });\n      return true;\n    } catch (error) {\n      get().logout();\n      return false;\n    }\n  },\n  // -----------------------------\n  // â­ NEW: VERIFY TOKEN (Real-Life HRMS)\n  // -----------------------------\n  verifyToken: async () => {\n    const {\n      token,\n      logout\n    } = get();\n    if (!token) return false;\n    try {\n      const response = await axios.get('/auth/verify');\n      return response.data.valid === true;\n    } catch (error) {\n      logout(); // token invalid â†’ logout\n      return false;\n    }\n  },\n  // -----------------------------\n  // PROFILE UPDATE\n  // -----------------------------\n  updateProfile: async profileData => {\n    set({\n      isLoading: true,\n      error: null\n    });\n    try {\n      const response = await axios.put('/auth/profile', profileData);\n      const updatedUser = response.data.data;\n      set({\n        user: {\n          ...get().user,\n          ...updatedUser\n        },\n        isLoading: false,\n        error: null\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Profile update failed';\n      set({\n        isLoading: false,\n        error: errorMessage\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  },\n  // -----------------------------\n  // UTILITY ACCESS CONTROL\n  // -----------------------------\n  hasRole: role => {\n    var _get$user;\n    return ((_get$user = get().user) === null || _get$user === void 0 ? void 0 : _get$user.role) === role;\n  },\n  hasAnyRole: roles => {\n    var _get$user2;\n    return roles.includes((_get$user2 = get().user) === null || _get$user2 === void 0 ? void 0 : _get$user2.role);\n  },\n  hasFeature: feature => {\n    var _get$company, _get$company$features;\n    return ((_get$company = get().company) === null || _get$company === void 0 ? void 0 : (_get$company$features = _get$company.features) === null || _get$company$features === void 0 ? void 0 : _get$company$features[feature]) === true;\n  },\n  isWithinLimit: (limitType, currentCount) => {\n    var _get$company2, _get$company2$limits;\n    const limit = (_get$company2 = get().company) === null || _get$company2 === void 0 ? void 0 : (_get$company2$limits = _get$company2.limits) === null || _get$company2$limits === void 0 ? void 0 : _get$company2$limits[limitType];\n    if (limit === -1) return true;\n    return currentCount < limit;\n  },\n  clearError: () => set({\n    error: null\n  })\n}),\n// -----------------------------\n// PERSIST STORAGE (localStorage)\n// -----------------------------\n{\n  name: 'auth-storage',\n  partialize: state => ({\n    user: state.user,\n    company: state.company,\n    token: state.token,\n    refreshToken: state.refreshToken,\n    isAuthenticated: state.isAuthenticated\n  })\n}));\n\n// ----------------------------------\n// AXIOS INTERCEPTOR (Auto Refresh)\n// ----------------------------------\naxios.interceptors.response.use(response => response, async error => {\n  var _error$response4;\n  const originalRequest = error.config;\n  if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 401 && !originalRequest._retry) {\n    originalRequest._retry = true;\n    const refreshed = await useAuthStore.getState().refreshAccessToken();\n    if (refreshed) return axios(originalRequest);\n  }\n  return Promise.reject(error);\n});\n\n// ----------------------------------\n// SET INITIAL TOKEN ON APP LOAD\n// ----------------------------------\nconst initialState = useAuthStore.getState();\nif (initialState.token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${initialState.token}`;\n}\nexport { useAuthStore };","map":{"version":3,"names":["create","persist","axios","API_BASE_URL","process","env","REACT_APP_API_URL","defaults","baseURL","useAuthStore","set","get","user","company","token","refreshToken","isAuthenticated","isLoading","error","login","credentials","response","post","data","headers","common","success","_error$response","_error$response$data","errorMessage","message","register","registrationData","_error$response2","_error$response2$data","logout","refreshAccessToken","verifyToken","valid","updateProfile","profileData","put","updatedUser","_error$response3","_error$response3$data","hasRole","role","_get$user","hasAnyRole","roles","_get$user2","includes","hasFeature","feature","_get$company","_get$company$features","features","isWithinLimit","limitType","currentCount","_get$company2","_get$company2$limits","limit","limits","clearError","name","partialize","state","interceptors","use","_error$response4","originalRequest","config","status","_retry","refreshed","getState","Promise","reject","initialState"],"sources":["D:/Node Home/HRMS/frontend/src/store/authStore.js"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\naxios.defaults.baseURL = API_BASE_URL;\n\nconst useAuthStore = create(\n  persist(\n    (set, get) => ({\n      // -----------------------------\n      // ðŸ”¹ STATE\n      // -----------------------------\n      user: null,\n      company: null,\n      token: null,\n      refreshToken: null,\n      isAuthenticated: false,\n      isLoading: false,\n      error: null,\n\n      // -----------------------------\n      // ðŸ”¹ LOGIN\n      // -----------------------------\n      login: async (credentials) => {\n        set({ isLoading: true, error: null });\n\n        try {\n          const response = await axios.post('/auth/login', credentials);\n          const { user, company, token, refreshToken } = response.data.data;\n\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n          set({\n            user,\n            company,\n            token,\n            refreshToken,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null\n          });\n\n          return { success: true, data: response.data };\n        } catch (error) {\n          const errorMessage = error.response?.data?.message || 'Login failed';\n          set({\n            isLoading: false,\n            error: errorMessage,\n            isAuthenticated: false\n          });\n          return { success: false, error: errorMessage };\n        }\n      },\n\n      // -----------------------------\n      // ðŸ”¹ REGISTER\n      // -----------------------------\n      register: async (registrationData) => {\n        set({ isLoading: true, error: null });\n\n        try {\n          const response = await axios.post('/auth/register', registrationData);\n          const { user, company, token, refreshToken } = response.data.data;\n\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n          set({\n            user,\n            company,\n            token,\n            refreshToken,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null\n          });\n\n          return { success: true, data: response.data };\n        } catch (error) {\n          const errorMessage = error.response?.data?.message || 'Registration failed';\n          set({\n            isLoading: false,\n            error: errorMessage,\n            isAuthenticated: false\n          });\n          return { success: false, error: errorMessage };\n        }\n      },\n\n      // -----------------------------\n      // ðŸ”¹ LOGOUT\n      // -----------------------------\n      logout: () => {\n        delete axios.defaults.headers.common['Authorization'];\n\n        set({\n          user: null,\n          company: null,\n          token: null,\n          refreshToken: null,\n          isAuthenticated: false,\n          error: null\n        });\n      },\n\n      // -----------------------------\n      // ðŸ”¹ REFRESH TOKEN (Auto)\n      // -----------------------------\n      refreshAccessToken: async () => {\n        const { refreshToken } = get();\n\n        if (!refreshToken) {\n          get().logout();\n          return false;\n        }\n\n        try {\n          const response = await axios.post('/auth/refresh-token', { refreshToken });\n          const { token } = response.data.data;\n\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          set({ token });\n\n          return true;\n        } catch (error) {\n          get().logout();\n          return false;\n        }\n      },\n\n      // -----------------------------\n      // â­ NEW: VERIFY TOKEN (Real-Life HRMS)\n      // -----------------------------\n      verifyToken: async () => {\n        const { token, logout } = get();\n\n        if (!token) return false;\n\n        try {\n          const response = await axios.get('/auth/verify');\n          return response.data.valid === true;\n        } catch (error) {\n          logout(); // token invalid â†’ logout\n          return false;\n        }\n      },\n\n      // -----------------------------\n      // PROFILE UPDATE\n      // -----------------------------\n      updateProfile: async (profileData) => {\n        set({ isLoading: true, error: null });\n\n        try {\n          const response = await axios.put('/auth/profile', profileData);\n          const updatedUser = response.data.data;\n\n          set({\n            user: { ...get().user, ...updatedUser },\n            isLoading: false,\n            error: null\n          });\n\n          return { success: true, data: response.data };\n        } catch (error) {\n          const errorMessage = error.response?.data?.message || 'Profile update failed';\n          set({\n            isLoading: false,\n            error: errorMessage\n          });\n          return { success: false, error: errorMessage };\n        }\n      },\n\n      // -----------------------------\n      // UTILITY ACCESS CONTROL\n      // -----------------------------\n      hasRole: (role) => get().user?.role === role,\n\n      hasAnyRole: (roles) => roles.includes(get().user?.role),\n\n      hasFeature: (feature) => get().company?.features?.[feature] === true,\n\n      isWithinLimit: (limitType, currentCount) => {\n        const limit = get().company?.limits?.[limitType];\n        if (limit === -1) return true;\n        return currentCount < limit;\n      },\n\n      clearError: () => set({ error: null })\n    }),\n\n    // -----------------------------\n    // PERSIST STORAGE (localStorage)\n    // -----------------------------\n    {\n      name: 'auth-storage',\n      partialize: (state) => ({\n        user: state.user,\n        company: state.company,\n        token: state.token,\n        refreshToken: state.refreshToken,\n        isAuthenticated: state.isAuthenticated\n      })\n    }\n  )\n);\n\n// ----------------------------------\n// AXIOS INTERCEPTOR (Auto Refresh)\n// ----------------------------------\naxios.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      const refreshed = await useAuthStore.getState().refreshAccessToken();\n      if (refreshed) return axios(originalRequest);\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// ----------------------------------\n// SET INITIAL TOKEN ON APP LOAD\n// ----------------------------------\nconst initialState = useAuthStore.getState();\nif (initialState.token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${initialState.token}`;\n}\n\nexport { useAuthStore };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}