{"ast":null,"code":"import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\naxios.defaults.baseURL = API_BASE_URL;\nconst useAuthStore = create(persist((set, get) => ({\n  // -----------------------------\n  // ðŸ”¹ STATE\n  // -----------------------------\n  user: null,\n  company: null,\n  token: null,\n  refreshToken: null,\n  isAuthenticated: false,\n  isLoading: false,\n  error: null,\n  // -----------------------------\n  // ðŸ”¹ LOGIN\n  // -----------------------------\n  login: async credentials => {\n    set({\n      isLoading: true,\n      error: null\n    });\n    try {\n      console.log('ðŸ” Login attempt:', credentials);\n      const response = await axios.post('/auth/login', credentials);\n      console.log('âœ… Login success:', response.data);\n      const {\n        user,\n        company,\n        token,\n        refreshToken\n      } = response.data.data;\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      set({\n        user,\n        company,\n        token,\n        refreshToken,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('âŒ Login failed:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Login failed';\n      set({\n        isLoading: false,\n        error: errorMessage,\n        isAuthenticated: false\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  },\n  // -----------------------------\n  // ðŸ”¹ REGISTER\n  // -----------------------------\n  register: async registrationData => {\n    set({\n      isLoading: true,\n      error: null\n    });\n    try {\n      const response = await axios.post('/auth/register', registrationData);\n      const {\n        user,\n        company,\n        token,\n        refreshToken\n      } = response.data.data;\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      set({\n        user,\n        company,\n        token,\n        refreshToken,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Registration failed';\n      set({\n        isLoading: false,\n        error: errorMessage,\n        isAuthenticated: false\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  },\n  // -----------------------------\n  // ðŸ”¹ LOGOUT\n  // -----------------------------\n  logout: () => {\n    delete axios.defaults.headers.common['Authorization'];\n    set({\n      user: null,\n      company: null,\n      token: null,\n      refreshToken: null,\n      isAuthenticated: false,\n      error: null\n    });\n  },\n  // -----------------------------\n  // ðŸ”¹ REFRESH TOKEN (Auto)\n  // -----------------------------\n  refreshAccessToken: async () => {\n    const {\n      refreshToken\n    } = get();\n    if (!refreshToken) {\n      get().logout();\n      return false;\n    }\n    try {\n      const response = await axios.post('/auth/refresh-token', {\n        refreshToken\n      });\n      const {\n        token\n      } = response.data.data;\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      set({\n        token\n      });\n      return true;\n    } catch (error) {\n      get().logout();\n      return false;\n    }\n  },\n  // -----------------------------\n  // â­ NEW: VERIFY TOKEN (Real-Life HRMS)\n  // -----------------------------\n  verifyToken: async () => {\n    const {\n      token,\n      logout\n    } = get();\n    if (!token) return false;\n    try {\n      const response = await axios.get('/auth/verify');\n      return response.data.valid === true;\n    } catch (error) {\n      logout(); // token invalid â†’ logout\n      return false;\n    }\n  },\n  // -----------------------------\n  // PROFILE UPDATE\n  // -----------------------------\n  updateProfile: async profileData => {\n    set({\n      isLoading: true,\n      error: null\n    });\n    try {\n      const response = await axios.put('/auth/profile', profileData);\n      const updatedUser = response.data.data;\n      set({\n        user: {\n          ...get().user,\n          ...updatedUser\n        },\n        isLoading: false,\n        error: null\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      const errorMessage = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Profile update failed';\n      set({\n        isLoading: false,\n        error: errorMessage\n      });\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  },\n  // -----------------------------\n  // UTILITY ACCESS CONTROL\n  // -----------------------------\n  hasRole: role => {\n    var _get$user;\n    return ((_get$user = get().user) === null || _get$user === void 0 ? void 0 : _get$user.role) === role;\n  },\n  hasAnyRole: roles => {\n    var _get$user2;\n    return roles.includes((_get$user2 = get().user) === null || _get$user2 === void 0 ? void 0 : _get$user2.role);\n  },\n  hasFeature: feature => {\n    var _get$company, _get$company$features;\n    return ((_get$company = get().company) === null || _get$company === void 0 ? void 0 : (_get$company$features = _get$company.features) === null || _get$company$features === void 0 ? void 0 : _get$company$features[feature]) === true;\n  },\n  isWithinLimit: (limitType, currentCount) => {\n    var _get$company2, _get$company2$limits;\n    const limit = (_get$company2 = get().company) === null || _get$company2 === void 0 ? void 0 : (_get$company2$limits = _get$company2.limits) === null || _get$company2$limits === void 0 ? void 0 : _get$company2$limits[limitType];\n    if (limit === -1) return true;\n    return currentCount < limit;\n  },\n  clearError: () => set({\n    error: null\n  })\n}),\n// -----------------------------\n// PERSIST STORAGE (localStorage)\n// -----------------------------\n{\n  name: 'auth-storage',\n  partialize: state => ({\n    user: state.user,\n    company: state.company,\n    token: state.token,\n    refreshToken: state.refreshToken,\n    isAuthenticated: state.isAuthenticated\n  })\n}));\n\n// ----------------------------------\n// AXIOS INTERCEPTOR (Auto Refresh)\n// ----------------------------------\naxios.interceptors.response.use(response => response, async error => {\n  var _error$response5;\n  const originalRequest = error.config;\n  if (((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status) === 401 && !originalRequest._retry) {\n    originalRequest._retry = true;\n    const refreshed = await useAuthStore.getState().refreshAccessToken();\n    if (refreshed) return axios(originalRequest);\n  }\n  return Promise.reject(error);\n});\n\n// ----------------------------------\n// SET INITIAL TOKEN ON APP LOAD\n// ----------------------------------\nconst initialState = useAuthStore.getState();\nif (initialState.token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${initialState.token}`;\n}\nexport { useAuthStore };","map":{"version":3,"names":["create","persist","axios","API_BASE_URL","process","env","REACT_APP_API_URL","defaults","baseURL","useAuthStore","set","get","user","company","token","refreshToken","isAuthenticated","isLoading","error","login","credentials","console","log","response","post","data","headers","common","success","_error$response","_error$response2","_error$response2$data","message","errorMessage","register","registrationData","_error$response3","_error$response3$data","logout","refreshAccessToken","verifyToken","valid","updateProfile","profileData","put","updatedUser","_error$response4","_error$response4$data","hasRole","role","_get$user","hasAnyRole","roles","_get$user2","includes","hasFeature","feature","_get$company","_get$company$features","features","isWithinLimit","limitType","currentCount","_get$company2","_get$company2$limits","limit","limits","clearError","name","partialize","state","interceptors","use","_error$response5","originalRequest","config","status","_retry","refreshed","getState","Promise","reject","initialState"],"sources":["D:/Node Home/HRMS/frontend/src/store/authStore.js"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\naxios.defaults.baseURL = API_BASE_URL;\n\nconst useAuthStore = create(\n  persist(\n    (set, get) => ({\n      // -----------------------------\n      // ðŸ”¹ STATE\n      // -----------------------------\n      user: null,\n      company: null,\n      token: null,\n      refreshToken: null,\n      isAuthenticated: false,\n      isLoading: false,\n      error: null,\n\n      // -----------------------------\n      // ðŸ”¹ LOGIN\n      // -----------------------------\n      login: async (credentials) => {\n        set({ isLoading: true, error: null });\n\n        try {\n          console.log('ðŸ” Login attempt:', credentials);\n          const response = await axios.post('/auth/login', credentials);\n          console.log('âœ… Login success:', response.data);\n          \n          const { user, company, token, refreshToken } = response.data.data;\n\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n          set({\n            user,\n            company,\n            token,\n            refreshToken,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null\n          });\n\n          return { success: true, data: response.data };\n        } catch (error) {\n          console.error('âŒ Login failed:', error.response?.data || error.message);\n          const errorMessage = error.response?.data?.message || 'Login failed';\n          set({\n            isLoading: false,\n            error: errorMessage,\n            isAuthenticated: false\n          });\n          return { success: false, error: errorMessage };\n        }\n      },\n\n      // -----------------------------\n      // ðŸ”¹ REGISTER\n      // -----------------------------\n      register: async (registrationData) => {\n        set({ isLoading: true, error: null });\n\n        try {\n          const response = await axios.post('/auth/register', registrationData);\n          const { user, company, token, refreshToken } = response.data.data;\n\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n          set({\n            user,\n            company,\n            token,\n            refreshToken,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null\n          });\n\n          return { success: true, data: response.data };\n        } catch (error) {\n          const errorMessage = error.response?.data?.message || 'Registration failed';\n          set({\n            isLoading: false,\n            error: errorMessage,\n            isAuthenticated: false\n          });\n          return { success: false, error: errorMessage };\n        }\n      },\n\n      // -----------------------------\n      // ðŸ”¹ LOGOUT\n      // -----------------------------\n      logout: () => {\n        delete axios.defaults.headers.common['Authorization'];\n\n        set({\n          user: null,\n          company: null,\n          token: null,\n          refreshToken: null,\n          isAuthenticated: false,\n          error: null\n        });\n      },\n\n      // -----------------------------\n      // ðŸ”¹ REFRESH TOKEN (Auto)\n      // -----------------------------\n      refreshAccessToken: async () => {\n        const { refreshToken } = get();\n\n        if (!refreshToken) {\n          get().logout();\n          return false;\n        }\n\n        try {\n          const response = await axios.post('/auth/refresh-token', { refreshToken });\n          const { token } = response.data.data;\n\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          set({ token });\n\n          return true;\n        } catch (error) {\n          get().logout();\n          return false;\n        }\n      },\n\n      // -----------------------------\n      // â­ NEW: VERIFY TOKEN (Real-Life HRMS)\n      // -----------------------------\n      verifyToken: async () => {\n        const { token, logout } = get();\n\n        if (!token) return false;\n\n        try {\n          const response = await axios.get('/auth/verify');\n          return response.data.valid === true;\n        } catch (error) {\n          logout(); // token invalid â†’ logout\n          return false;\n        }\n      },\n\n      // -----------------------------\n      // PROFILE UPDATE\n      // -----------------------------\n      updateProfile: async (profileData) => {\n        set({ isLoading: true, error: null });\n\n        try {\n          const response = await axios.put('/auth/profile', profileData);\n          const updatedUser = response.data.data;\n\n          set({\n            user: { ...get().user, ...updatedUser },\n            isLoading: false,\n            error: null\n          });\n\n          return { success: true, data: response.data };\n        } catch (error) {\n          const errorMessage = error.response?.data?.message || 'Profile update failed';\n          set({\n            isLoading: false,\n            error: errorMessage\n          });\n          return { success: false, error: errorMessage };\n        }\n      },\n\n      // -----------------------------\n      // UTILITY ACCESS CONTROL\n      // -----------------------------\n      hasRole: (role) => get().user?.role === role,\n\n      hasAnyRole: (roles) => roles.includes(get().user?.role),\n\n      hasFeature: (feature) => get().company?.features?.[feature] === true,\n\n      isWithinLimit: (limitType, currentCount) => {\n        const limit = get().company?.limits?.[limitType];\n        if (limit === -1) return true;\n        return currentCount < limit;\n      },\n\n      clearError: () => set({ error: null })\n    }),\n\n    // -----------------------------\n    // PERSIST STORAGE (localStorage)\n    // -----------------------------\n    {\n      name: 'auth-storage',\n      partialize: (state) => ({\n        user: state.user,\n        company: state.company,\n        token: state.token,\n        refreshToken: state.refreshToken,\n        isAuthenticated: state.isAuthenticated\n      })\n    }\n  )\n);\n\n// ----------------------------------\n// AXIOS INTERCEPTOR (Auto Refresh)\n// ----------------------------------\naxios.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      const refreshed = await useAuthStore.getState().refreshAccessToken();\n      if (refreshed) return axios(originalRequest);\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// ----------------------------------\n// SET INITIAL TOKEN ON APP LOAD\n// ----------------------------------\nconst initialState = useAuthStore.getState();\nif (initialState.token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${initialState.token}`;\n}\n\nexport { useAuthStore };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}